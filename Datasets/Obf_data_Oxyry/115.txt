#!/usr/bin/python
from sudokutools import valid ,solve ,find_empty #line:3
from copy import deepcopy #line:4
from sys import exit #line:5
import pygame #line:6
import time #line:7
import random #line:8
pygame .init ()#line:9
def generate ():#line:12
    while True :#line:14
        for O000000OO000O0000 in pygame .event .get ():#line:15
            if O000000OO000O0000 .type ==pygame .QUIT :#line:16
                exit ()#line:17
        OO00O0000OO0OO000 =[[0 for O000O00OOOOO0O000 in range (9 )]for OO00OO0000OO0O0OO in range (9 )]#line:18
        for OOOO0OO000O0OOO0O in range (9 ):#line:20
            for OOO0O0OO0OO0OOO00 in range (9 ):#line:21
                if random .randint (1 ,10 )>=5 :#line:22
                    OO00O0000OO0OO000 [OOOO0OO000O0OOO0O ][OOO0O0OO0OO0OOO00 ]=random .randint (1 ,9 )#line:23
                    if valid (OO00O0000OO0OO000 ,(OOOO0OO000O0OOO0O ,OOO0O0OO0OO0OOO00 ),OO00O0000OO0OO000 [OOOO0OO000O0OOO0O ][OOO0O0OO0OO0OOO00 ]):#line:24
                        continue #line:25
                    else :#line:26
                        OO00O0000OO0OO000 [OOOO0OO000O0OOO0O ][OOO0O0OO0OO0OOO00 ]=0 #line:27
        O0O00OO00000OOOOO =deepcopy (OO00O0000OO0OO000 )#line:28
        if solve (OO00O0000OO0OO000 ):#line:29
            return O0O00OO00000OOOOO #line:30
class Board :#line:33
    def __init__ (O0OOO0OOO0OOOO00O ,OOO00000O000O00OO ):#line:35
        O0OOO0OOO0OOOO00O .board =generate ()#line:36
        O0OOO0OOO0OOOO00O .solvedBoard =deepcopy (O0OOO0OOO0OOOO00O .board )#line:37
        solve (O0OOO0OOO0OOOO00O .solvedBoard )#line:38
        O0OOO0OOO0OOOO00O .tiles =[[Tile (O0OOO0OOO0OOOO00O .board [O0OO0O0O0O0O00OO0 ][OO0OOO0O0O0OOO000 ],OOO00000O000O00OO ,O0OO0O0O0O0O00OO0 *60 ,OO0OOO0O0O0OOO000 *60 )for OO0OOO0O0O0OOO000 in range (9 )]for O0OO0O0O0O0O00OO0 in range (9 )]#line:40
        O0OOO0OOO0OOOO00O .window =OOO00000O000O00OO #line:41
    def draw_board (OO00O000OO0OOO00O ):#line:43
        for OOOO0OO000OO0OO0O in range (9 ):#line:45
            for O00OOO00O00OOOO0O in range (9 ):#line:46
                if O00OOO00O00OOOO0O %3 ==0 and O00OOO00O00OOOO0O !=0 :#line:47
                    pygame .draw .line (OO00O000OO0OOO00O .window ,(0 ,0 ,0 ),(O00OOO00O00OOOO0O //3 *180 ,0 ),(O00OOO00O00OOOO0O //3 *180 ,540 ),4 )#line:49
                if OOOO0OO000OO0OO0O %3 ==0 and OOOO0OO000OO0OO0O !=0 :#line:51
                    pygame .draw .line (OO00O000OO0OOO00O .window ,(0 ,0 ,0 ),(0 ,OOOO0OO000OO0OO0O //3 *180 ),(540 ,OOOO0OO000OO0OO0O //3 *180 ),4 )#line:53
                OO00O000OO0OOO00O .tiles [OOOO0OO000OO0OO0O ][O00OOO00O00OOOO0O ].draw ((0 ,0 ,0 ),1 )#line:55
                if OO00O000OO0OOO00O .tiles [OOOO0OO000OO0OO0O ][O00OOO00O00OOOO0O ].value !=0 :#line:57
                    OO00O000OO0OOO00O .tiles [OOOO0OO000OO0OO0O ][O00OOO00O00OOOO0O ].display (OO00O000OO0OOO00O .tiles [OOOO0OO000OO0OO0O ][O00OOO00O00OOOO0O ].value ,(21 +O00OOO00O00OOOO0O *60 ,16 +OOOO0OO000OO0OO0O *60 ),(0 ,0 ,0 ))#line:59
        pygame .draw .line (OO00O000OO0OOO00O .window ,(0 ,0 ,0 ),(0 ,(OOOO0OO000OO0OO0O +1 )//3 *180 ),(540 ,(OOOO0OO000OO0OO0O +1 )//3 *180 ),4 )#line:63
    def deselect (O000OOO0O0O0O0O00 ,OOO0OOOO00OO0OOOO ):#line:65
        for OOO00O000O00O0OO0 in range (9 ):#line:67
            for O0O0O0OO000OOO0O0 in range (9 ):#line:68
                if O000OOO0O0O0O0O00 .tiles [OOO00O000O00O0OO0 ][O0O0O0OO000OOO0O0 ]!=OOO0OOOO00OO0OOOO :#line:69
                    O000OOO0O0O0O0O00 .tiles [OOO00O000O00O0OO0 ][O0O0O0OO000OOO0O0 ].selected =False #line:70
    def redraw (O0O0000000OOOOOO0 ,O0000OO0O000O0000 ,O0O0OOO00000O0O0O ,O00O000O0O0000000 ,):#line:77
        O0O0000000OOOOOO0 .window .fill ((255 ,255 ,255 ))#line:79
        O0O0000000OOOOOO0 .draw_board ()#line:80
        for O000O0000OO0O0O0O in range (9 ):#line:81
            for OO00OOO0OO0O0O0OO in range (9 ):#line:82
                if O0O0000000OOOOOO0 .tiles [OO00OOO0OO0O0O0OO ][O000O0000OO0O0O0O ].selected :#line:83
                    O0O0000000OOOOOO0 .tiles [OO00OOO0OO0O0O0OO ][O000O0000OO0O0O0O ].draw ((50 ,205 ,50 ),4 )#line:84
                elif O0O0000000OOOOOO0 .tiles [O000O0000OO0O0O0O ][OO00OOO0OO0O0O0OO ].correct :#line:85
                    O0O0000000OOOOOO0 .tiles [OO00OOO0OO0O0O0OO ][O000O0000OO0O0O0O ].draw ((34 ,139 ,34 ),4 )#line:87
                elif O0O0000000OOOOOO0 .tiles [O000O0000OO0O0O0O ][OO00OOO0OO0O0O0OO ].incorrect :#line:88
                    O0O0000000OOOOOO0 .tiles [OO00OOO0OO0O0O0OO ][O000O0000OO0O0O0O ].draw ((255 ,0 ,0 ),4 )#line:90
        if len (O0000OO0O000O0000 )!=0 :#line:92
            for O000OOO00OOO00000 in O0000OO0O000O0000 :#line:93
                O0O0000000OOOOOO0 .tiles [O000OOO00OOO00000 [0 ]][O000OOO00OOO00000 [1 ]].display (O0000OO0O000O0000 [O000OOO00OOO00000 ],(21 +O000OOO00OOO00000 [0 ]*60 ,16 +O000OOO00OOO00000 [1 ]*60 ),(128 ,128 ,128 ))#line:96
        if O0O0OOO00000O0O0O >0 :#line:98
            OOO0O000000OOO0OO =pygame .font .SysFont ('Bauhaus 93',30 )#line:99
            OO00O000OOOOOO000 =OOO0O000000OOO0OO .render ('X',True ,(255 ,0 ,0 ))#line:100
            O0O0000000OOOOOO0 .window .blit (OO00O000OOOOOO000 ,(10 ,554 ))#line:101
            OOO0O000000OOO0OO =pygame .font .SysFont ('Bahnschrift',40 )#line:103
            OO00O000OOOOOO000 =OOO0O000000OOO0OO .render (str (O0O0OOO00000O0O0O ),True ,(0 ,0 ,0 ))#line:104
            O0O0000000OOOOOO0 .window .blit (OO00O000OOOOOO000 ,(32 ,542 ))#line:105
        OOO0O000000OOO0OO =pygame .font .SysFont ('Bahnschrift',40 )#line:107
        OO00O000OOOOOO000 =OOO0O000000OOO0OO .render (str (O00O000O0O0000000 ),True ,(0 ,0 ,0 ))#line:108
        O0O0000000OOOOOO0 .window .blit (OO00O000OOOOOO000 ,(388 ,542 ))#line:109
        pygame .display .flip ()#line:110
    def visualSolve (OO0O00OOOO0O0OOOO ,OO0O00OOOO000O000 ,O00OOOO0O0O0OOOOO ):#line:112
        for OO0O000OO0OO00000 in pygame .event .get ():#line:114
            if OO0O000OO0OO00000 .type ==pygame .QUIT :#line:115
                exit ()#line:116
        OO0O000OOO0OOO000 =find_empty (OO0O00OOOO0O0OOOO .board )#line:118
        if not OO0O000OOO0OOO000 :#line:119
            return True #line:120
        for O0000O0OOOO0OOOOO in range (9 ):#line:122
            if valid (OO0O00OOOO0O0OOOO .board ,(OO0O000OOO0OOO000 [0 ],OO0O000OOO0OOO000 [1 ]),O0000O0OOOO0OOOOO +1 ):#line:123
                OO0O00OOOO0O0OOOO .board [OO0O000OOO0OOO000 [0 ]][OO0O000OOO0OOO000 [1 ]]=O0000O0OOOO0OOOOO +1 #line:124
                OO0O00OOOO0O0OOOO .tiles [OO0O000OOO0OOO000 [0 ]][OO0O000OOO0OOO000 [1 ]].value =O0000O0OOOO0OOOOO +1 #line:125
                OO0O00OOOO0O0OOOO .tiles [OO0O000OOO0OOO000 [0 ]][OO0O000OOO0OOO000 [1 ]].correct =True #line:126
                pygame .time .delay (63 )#line:127
                OO0O00OOOO0O0OOOO .redraw ({},OO0O00OOOO000O000 ,O00OOOO0O0O0OOOOO )#line:128
                if OO0O00OOOO0O0OOOO .visualSolve (OO0O00OOOO000O000 ,O00OOOO0O0O0OOOOO ):#line:130
                    return True #line:131
                OO0O00OOOO0O0OOOO .board [OO0O000OOO0OOO000 [0 ]][OO0O000OOO0OOO000 [1 ]]=0 #line:133
                OO0O00OOOO0O0OOOO .tiles [OO0O000OOO0OOO000 [0 ]][OO0O000OOO0OOO000 [1 ]].value =0 #line:134
                OO0O00OOOO0O0OOOO .tiles [OO0O000OOO0OOO000 [0 ]][OO0O000OOO0OOO000 [1 ]].incorrect =True #line:135
                OO0O00OOOO0O0OOOO .tiles [OO0O000OOO0OOO000 [0 ]][OO0O000OOO0OOO000 [1 ]].correct =False #line:136
                pygame .time .delay (63 )#line:137
                OO0O00OOOO0O0OOOO .redraw ({},OO0O00OOOO000O000 ,O00OOOO0O0O0OOOOO )#line:138
    def hint (OO0OOOO0000OO0OO0 ,OOOO00O0O00O0O000 ):#line:140
        while True :#line:142
            O000OO00OO0OOOO0O =random .randint (0 ,8 )#line:143
            O0O0000O0O0OOOO00 =random .randint (0 ,8 )#line:144
            if OO0OOOO0000OO0OO0 .board [O000OO00OO0OOOO0O ][O0O0000O0O0OOOO00 ]==0 :#line:145
                if (O0O0000O0O0OOOO00 ,O000OO00OO0OOOO0O )in OOOO00O0O00O0O000 :#line:146
                    del OOOO00O0O00O0O000 [(O0O0000O0O0OOOO00 ,O000OO00OO0OOOO0O )]#line:147
                OO0OOOO0000OO0OO0 .board [O000OO00OO0OOOO0O ][O0O0000O0O0OOOO00 ]=OO0OOOO0000OO0OO0 .solvedBoard [O000OO00OO0OOOO0O ][O0O0000O0O0OOOO00 ]#line:148
                OO0OOOO0000OO0OO0 .tiles [O000OO00OO0OOOO0O ][O0O0000O0O0OOOO00 ].value =OO0OOOO0000OO0OO0 .solvedBoard [O000OO00OO0OOOO0O ][O0O0000O0O0OOOO00 ]#line:149
                return True #line:150
            elif OO0OOOO0000OO0OO0 .board ==OO0OOOO0000OO0OO0 .solvedBoard :#line:151
                return False #line:153
class Tile :#line:156
    def __init__ (OOOOOO00O0OOOO000 ,O00O0OO00000O0O0O ,OO0O0O000O000000O ,OOO00O0000O0OOO00 ,O00OO0O0OO0O0O0OO ,):#line:165
        OOOOOO00O0OOOO000 .value =O00O0OO00000O0O0O #line:166
        OOOOOO00O0OOOO000 .window =OO0O0O000O000000O #line:167
        OOOOOO00O0OOOO000 .rect =pygame .Rect (OOO00O0000O0OOO00 ,O00OO0O0OO0O0O0OO ,60 ,60 )#line:168
        OOOOOO00O0OOOO000 .selected =False #line:169
        OOOOOO00O0OOOO000 .correct =False #line:170
        OOOOOO00O0OOOO000 .incorrect =False #line:171
    def draw (O0O0000OOO00OOO0O ,O0OO0OO00O0OOOOO0 ,OOOO0OOO0OO00OO00 ):#line:173
        pygame .draw .rect (O0O0000OOO00OOO0O .window ,O0OO0OO00O0OOOOO0 ,O0O0000OOO00OOO0O .rect ,OOOO0OOO0OO00OO00 )#line:175
    def display (O00OOO0O00OOO0OOO ,O0000O00OOOOOOO0O ,OOO0OO0O00O0OOO0O ,O00O00000OO0O0O0O ,):#line:182
        OOOO0O0O00O000000 =pygame .font .SysFont ('lato',45 )#line:184
        OO00OOO000O0OOO0O =OOOO0O0O00O000000 .render (str (O0000O00OOOOOOO0O ),True ,O00O00000OO0O0O0O )#line:185
        O00OOO0O00OOO0OOO .window .blit (OO00OOO000O0OOO0O ,OOO0OO0O00O0OOO0O )#line:186
    def clicked (OO00OO00O0O0OO00O ,OO000O0000O0OO00O ):#line:188
        if OO00OO00O0O0OO00O .rect .collidepoint (OO000O0000O0OO00O ):#line:190
            OO00OO00O0O0OO00O .selected =True #line:191
        return OO00OO00O0O0OO00O .selected #line:192
def main ():#line:195
    OO0OO00OO00000O00 =pygame .display .set_mode ((540 ,590 ))#line:197
    OO0OO00OO00000O00 .fill ((255 ,255 ,255 ))#line:198
    pygame .display .set_caption ('Sudoku Solver')#line:199
    OO00OO000O0O00OO0 =pygame .image .load ('assets/thumbnail.png')#line:200
    pygame .display .set_icon (OO00OO000O0O00OO0 )#line:201
    O0OO00000O0OOOO0O =pygame .font .SysFont ('Bahnschrift',40 )#line:203
    OO0O0OOOO0O0O0000 =O0OO00000O0OOOO0O .render ('Generating',True ,(0 ,0 ,0 ))#line:204
    OO0OO00OO00000O00 .blit (OO0O0OOOO0O0O0000 ,(175 ,245 ))#line:205
    O0OO00000O0OOOO0O =pygame .font .SysFont ('Bahnschrift',40 )#line:207
    OO0O0OOOO0O0O0000 =O0OO00000O0OOOO0O .render ('Random Grid',True ,(0 ,0 ,0 ))#line:208
    OO0OO00OO00000O00 .blit (OO0O0OOOO0O0O0000 ,(156 ,290 ))#line:209
    pygame .display .flip ()#line:210
    O00OOO0O0OOOO0OO0 =0 #line:212
    O0O0O0O0O00OOO000 =Board (OO0OO00OO00000O00 )#line:213
    O0O0OOOOO000O0000 =(-1 ,-1 )#line:214
    OOO000O0O0O00O0OO ={}#line:215
    O0OO0OOOO0OO00OO0 =True #line:216
    OO0O000O000OOO0OO =time .time ()#line:217
    while O0OO0OOOO0OO00OO0 :#line:218
        O0OO0O00O00000O00 =time .time ()-OO0O000O000OOO0OO #line:219
        OO0O00O000O0O0OO0 =time .strftime ('%H:%M:%S',time .gmtime (O0OO0O00O00000O00 ))#line:220
        if O0O0O0O0O00OOO000 .board ==O0O0O0O0O00OOO000 .solvedBoard :#line:222
            for OOOO00O0O000OO00O in range (9 ):#line:223
                for OOOO0OOOO00O0O0O0 in range (9 ):#line:224
                    O0O0O0O0O00OOO000 .tiles [OOOO00O0O000OO00O ][OOOO0OOOO00O0O0O0 ].selected =False #line:225
                    O0OO0OOOO0OO00OO0 =False #line:226
        for OOOO0000O0O00OOO0 in pygame .event .get ():#line:228
            if OOOO0000O0O00OOO0 .type ==pygame .QUIT :#line:229
                exit ()#line:230
            elif OOOO0000O0O00OOO0 .type ==pygame .MOUSEBUTTONUP :#line:231
                OOOO0O0O00000O0O0 =pygame .mouse .get_pos ()#line:233
                for OOOO00O0O000OO00O in range (9 ):#line:234
                    for OOOO0OOOO00O0O0O0 in range (9 ):#line:235
                        if O0O0O0O0O00OOO000 .tiles [OOOO00O0O000OO00O ][OOOO0OOOO00O0O0O0 ].clicked (OOOO0O0O00000O0O0 ):#line:236
                            O0O0OOOOO000O0000 =(OOOO00O0O000OO00O ,OOOO0OOOO00O0O0O0 )#line:237
                            O0O0O0O0O00OOO000 .deselect (O0O0O0O0O00OOO000 .tiles [OOOO00O0O000OO00O ][OOOO0OOOO00O0O0O0 ])#line:238
            elif OOOO0000O0O00OOO0 .type ==pygame .KEYDOWN :#line:239
                if O0O0O0O0O00OOO000 .board [O0O0OOOOO000O0000 [1 ]][O0O0OOOOO000O0000 [0 ]]==0 and O0O0OOOOO000O0000 !=(-1 ,-1 ):#line:242
                    if OOOO0000O0O00OOO0 .key ==pygame .K_1 :#line:243
                        OOO000O0O0O00O0OO [O0O0OOOOO000O0000 ]=1 #line:244
                    if OOOO0000O0O00OOO0 .key ==pygame .K_2 :#line:246
                        OOO000O0O0O00O0OO [O0O0OOOOO000O0000 ]=2 #line:247
                    if OOOO0000O0O00OOO0 .key ==pygame .K_3 :#line:249
                        OOO000O0O0O00O0OO [O0O0OOOOO000O0000 ]=3 #line:250
                    if OOOO0000O0O00OOO0 .key ==pygame .K_4 :#line:252
                        OOO000O0O0O00O0OO [O0O0OOOOO000O0000 ]=4 #line:253
                    if OOOO0000O0O00OOO0 .key ==pygame .K_5 :#line:255
                        OOO000O0O0O00O0OO [O0O0OOOOO000O0000 ]=5 #line:256
                    if OOOO0000O0O00OOO0 .key ==pygame .K_6 :#line:258
                        OOO000O0O0O00O0OO [O0O0OOOOO000O0000 ]=6 #line:259
                    if OOOO0000O0O00OOO0 .key ==pygame .K_7 :#line:261
                        OOO000O0O0O00O0OO [O0O0OOOOO000O0000 ]=7 #line:262
                    if OOOO0000O0O00OOO0 .key ==pygame .K_8 :#line:264
                        OOO000O0O0O00O0OO [O0O0OOOOO000O0000 ]=8 #line:265
                    if OOOO0000O0O00OOO0 .key ==pygame .K_9 :#line:267
                        OOO000O0O0O00O0OO [O0O0OOOOO000O0000 ]=9 #line:268
                    elif OOOO0000O0O00OOO0 .key ==pygame .K_BACKSPACE or OOOO0000O0O00OOO0 .key ==pygame .K_DELETE :#line:270
                        if O0O0OOOOO000O0000 in OOO000O0O0O00O0OO :#line:272
                            O0O0O0O0O00OOO000 .tiles [O0O0OOOOO000O0000 [1 ]][O0O0OOOOO000O0000 [0 ]].value =0 #line:274
                            del OOO000O0O0O00O0OO [O0O0OOOOO000O0000 ]#line:275
                    elif OOOO0000O0O00OOO0 .key ==pygame .K_RETURN :#line:276
                        if O0O0OOOOO000O0000 in OOO000O0O0O00O0OO :#line:278
                            if OOO000O0O0O00O0OO [O0O0OOOOO000O0000 ]!=O0O0O0O0O00OOO000 .solvedBoard [O0O0OOOOO000O0000 [1 ]][O0O0OOOOO000O0000 [0 ]]:#line:280
                                O00OOO0O0OOOO0OO0 +=1 #line:281
                                O0O0O0O0O00OOO000 .tiles [O0O0OOOOO000O0000 [1 ]][O0O0OOOOO000O0000 [0 ]].value =0 #line:283
                                del OOO000O0O0O00O0OO [O0O0OOOOO000O0000 ]#line:284
                                break #line:285
                            O0O0O0O0O00OOO000 .tiles [O0O0OOOOO000O0000 [1 ]][O0O0OOOOO000O0000 [0 ]].value =OOO000O0O0O00O0OO [O0O0OOOOO000O0000 ]#line:288
                            O0O0O0O0O00OOO000 .board [O0O0OOOOO000O0000 [1 ]][O0O0OOOOO000O0000 [0 ]]=OOO000O0O0O00O0OO [O0O0OOOOO000O0000 ]#line:290
                            del OOO000O0O0O00O0OO [O0O0OOOOO000O0000 ]#line:291
                if OOOO0000O0O00OOO0 .key ==pygame .K_h :#line:293
                    O0O0O0O0O00OOO000 .hint (OOO000O0O0O00O0OO )#line:294
                if OOOO0000O0O00OOO0 .key ==pygame .K_SPACE :#line:296
                    for OOOO00O0O000OO00O in range (9 ):#line:297
                        for OOOO0OOOO00O0O0O0 in range (9 ):#line:298
                            O0O0O0O0O00OOO000 .tiles [OOOO00O0O000OO00O ][OOOO0OOOO00O0O0O0 ].selected =False #line:299
                    OOO000O0O0O00O0OO ={}#line:300
                    O0O0O0O0O00OOO000 .visualSolve (O00OOO0O0OOOO0OO0 ,OO0O00O000O0O0OO0 )#line:301
                    for OOOO00O0O000OO00O in range (9 ):#line:302
                        for OOOO0OOOO00O0O0O0 in range (9 ):#line:303
                            O0O0O0O0O00OOO000 .tiles [OOOO00O0O000OO00O ][OOOO0OOOO00O0O0O0 ].correct =False #line:304
                            O0O0O0O0O00OOO000 .tiles [OOOO00O0O000OO00O ][OOOO0OOOO00O0O0O0 ].incorrect =False #line:305
                    O0OO0OOOO0OO00OO0 =False #line:306
        O0O0O0O0O00OOO000 .redraw (OOO000O0O0O00O0OO ,O00OOO0O0OOOO0OO0 ,OO0O00O000O0O0OO0 )#line:308
    while True :#line:309
        for OOOO0000O0O00OOO0 in pygame .event .get ():#line:310
            if OOOO0000O0O00OOO0 .type ==pygame .QUIT :#line:311
                return #line:312
main ()#line:315
pygame .quit ()